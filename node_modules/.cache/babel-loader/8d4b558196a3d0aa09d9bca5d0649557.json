{"ast":null,"code":"var _jsxFileName = \"/Users/marcelopignataro/DocumentosNoIcloud/mernDojo/5hMernGProject/client/src/Components/LikeButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Icon, Label } from 'semantic-ui-react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LikeButton = ({\n  user,\n  post: {\n    id,\n    likeCount,\n    likes\n  }\n}) => {\n  _s();\n\n  const [liked, setLiked] = useState(false);\n  useEffect(() => {\n    //if any of the likes of this post have a username of this user \n    if (user && likes.find(like => like.username === user.username)) {\n      setLiked(true);\n    } else setLiked(false);\n  }, [user, likes]);\n  const [likePost] = useMutation(LIKE_POST_MUTATION, {\n    variables: {\n      postId: id\n    }\n  });\n  const likeButton = user ? liked ? /*#__PURE__*/_jsxDEV(Button, {\n    color: \"teal\",\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      name: \"heart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Button, {\n    color: \"teal\",\n    basic: true,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      name: \"heart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(Button, {\n    as: Link,\n    to: \"/login\",\n    color: \"teal\",\n    basic: true,\n    children: /*#__PURE__*/_jsxDEV(Icon, {\n      name: \"heart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Button, {\n    as: \"div\",\n    labelPosition: \"right\",\n    onClick: likePost,\n    children: [likeButton, /*#__PURE__*/_jsxDEV(Label, {\n      basic: true,\n      color: \"teal\",\n      pointing: \"left\",\n      children: likeCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n\n_s(LikeButton, \"J+UxPd70Y5eO9tzmE8G4tIdRcGc=\", false, function () {\n  return [useMutation];\n});\n\n_c = LikeButton;\nconst LIKE_POST_MUTATION = gql`\n  mutation likePost($postId: ID!) {\n    likePost(postId $postId) {\n      id\n      likes {\n        id username\n      }\n      likeCount\n    }\n  }\n`;\nexport default LikeButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"LikeButton\");","map":{"version":3,"sources":["/Users/marcelopignataro/DocumentosNoIcloud/mernDojo/5hMernGProject/client/src/Components/LikeButton.js"],"names":["React","useEffect","useState","Button","Icon","Label","useMutation","Link","gql","LikeButton","user","post","id","likeCount","likes","liked","setLiked","find","like","username","likePost","LIKE_POST_MUTATION","variables","postId","likeButton"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAoC,mBAApC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,GAAP,MAAgB,aAAhB;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,SAAN;AAAiBC,IAAAA;AAAjB;AAAd,CAAD,KAA8C;AAAA;;AAE/D,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,KAAD,CAAlC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,QAAIS,IAAI,IAAII,KAAK,CAACG,IAAN,CAAWC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBT,IAAI,CAACS,QAA1C,CAAZ,EAAiE;AAC/DH,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD,MAEOA,QAAQ,CAAC,KAAD,CAAR;AACR,GALQ,EAKN,CAACN,IAAD,EAAOI,KAAP,CALM,CAAT;AAOA,QAAM,CAACM,QAAD,IAAad,WAAW,CAACe,kBAAD,EAAqB;AACjDC,IAAAA,SAAS,EAAE;AACTC,MAAAA,MAAM,EAAEX;AADC;AADsC,GAArB,CAA9B;AAMA,QAAMY,UAAU,GAAGd,IAAI,GACrBK,KAAK,gBACH,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADG,gBAKH,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAqB,IAAA,KAAK,MAA1B;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UANmB,gBAWrB,QAAC,MAAD;AAAQ,IAAA,EAAE,EAAER,IAAZ;AAAkB,IAAA,EAAE,EAAC,QAArB;AAA8B,IAAA,KAAK,EAAC,MAApC;AAA2C,IAAA,KAAK,MAAhD;AAAA,2BACE,QAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAXF;AAgBA,sBACE,QAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,KAAX;AAAiB,IAAA,aAAa,EAAC,OAA/B;AAAuC,IAAA,OAAO,EAAEa,QAAhD;AAAA,eACGI,UADH,eAEE,QAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,KAAK,EAAC,MAAnB;AAA0B,MAAA,QAAQ,EAAC,MAAnC;AAAA,gBACGX;AADH;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CAzCD;;GAAMJ,U;UAWeH,W;;;KAXfG,U;AA2CN,MAAMY,kBAAkB,GAAGb,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAVA;AAYA,eAAeC,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Button, Icon, Label } from 'semantic-ui-react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { Link } from 'react-router-dom';\nimport gql from 'graphql-tag';\n\nconst LikeButton = ({ user, post: { id, likeCount, likes } }) => {\n\n  const [liked, setLiked] = useState(false);\n\n  useEffect(() => {\n    //if any of the likes of this post have a username of this user \n    if (user && likes.find(like => like.username === user.username)) {\n      setLiked(true);\n    } else setLiked(false);\n  }, [user, likes]);\n\n  const [likePost] = useMutation(LIKE_POST_MUTATION, {\n    variables: {\n      postId: id\n    }\n  })\n\n  const likeButton = user ? (\n    liked ? (\n      <Button color='teal'>\n        <Icon name='heart' />\n      </Button>\n    ) : (\n      <Button color='teal' basic>\n        <Icon name='heart' />\n      </Button>\n    )\n  ): (\n    <Button as={Link} to='/login' color='teal' basic>\n      <Icon name='heart' />\n    </Button>\n  )\n\n  return (\n    <Button as='div' labelPosition='right' onClick={likePost}>\n      {likeButton}\n      <Label basic color='teal' pointing='left'>\n        {likeCount}\n      </Label>\n    </Button>\n  );\n}\n\nconst LIKE_POST_MUTATION = gql`\n  mutation likePost($postId: ID!) {\n    likePost(postId $postId) {\n      id\n      likes {\n        id username\n      }\n      likeCount\n    }\n  }\n`;\n\nexport default LikeButton;"]},"metadata":{},"sourceType":"module"}